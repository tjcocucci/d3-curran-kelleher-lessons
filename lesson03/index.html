<!DOCTYPE html>
<html>

<head>
  <title>Load data with async/await -- then pyramid of doom </title>
</head>

<body>
  <script>

    const csvUrl = 'https://gist.githubusercontent.com/tjcocucci/d890b6b864020ab77a79699079a29b5c/raw/cssNamedColors.csv';
    const fetchUrl = async (url) => {
      const response = await fetch(url);
      return await response.text();
    };

    fetchUrl(csvUrl).then(t => { console.log(t) });

    // fetch(csvUrl).then( response => {
    //   response.text().then( text => {
    //     console.log(text);
    //   });
    // });

  </script>
</body>

</html>
